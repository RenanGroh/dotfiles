################
### MONITORS ###
################

# See https://wiki.hypr.land/Configuring/Monitors/
# sintaxe: monitor = NOME, RESOLUÇÃO, POSIÇÃO, ESCALA
# 1.Monitor  (Principal): 1440p, 165Hz, Posição 0x0
monitor = DP-3, 2560x1440@165, 1080x500, 1.25

# 2. Monitor Principal (Central/Direita) 1440p, 165Hz21
# Posição 0x0 (Começo absoluto)
# transform, 1 (Rotaciona 90 graus) ou 3 (270 graus) dependendo de como girou
monitor = HDMI-A-1, 2560x1080@75, 0x0, 1.25, transform, 1

# --- Ancoragem de Workspaces ---
# Principal
workspace = 1, monitor:DP-3
workspace = 2, monitor:DP-3
workspace = 3, monitor:DP-3
workspace = 4, monitor:DP-3

# Principal
workspace = 6, monitor:HDMI-A-1
workspace = 7, monitor:HDMI-A-1
workspace = 8, monitor:HDMI-A-1
workspace = 9, monitor:HDMI-A-1


###################
### MY PROGRAMS ###
###################


# Set programs that you use
$terminal = kitty
$fileManager = thunar
$menu = wofi --show drun


#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:

exec-once = killall waybar; waybar -c ~/.config/waybar/config_DP3.jsonc & waybar -c ~/.config/waybar/config_HDMI_1.jsonc
exec-once = dunst
exec-once = hyprpaper
exec-once = easyeffects --gapplication-service
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = hypridle

#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hypr.land/Configuring/Environment-variables/

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
#env = GTK_IM_MODULE,wayland
env = GTK_IM_MODULE,xim
env = QT_IM_MODULE,xim
env = XMODIFIERS,@im=xim
env = QT_QPA_PLATFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt6ct
env = TERMINAL,kitty
env = TERM,kitty
env = XCURSOR_THEME,Bibata-Modern-Classic  # Ou o nome do seu cursor
env = GNOME_SCHEMA_SCHEMA_KEY,org.gnome.desktop.interface

###################
### PERMISSIONS ###
###################

# See https://wiki.hypr.land/Configuring/Permissions/
# Please note permission changes here require a Hyprland restart and are not applied on-the-fly
# for security reasonswindowrulev2 = monitor 1, class:^(NomeDoJogo)$

# ecosystem {
#   enforce_permissions = 1
# }

# permission = /usr/(bin|local/bin)/grim, screencopy, allow
# permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
# permission = /usr/(bin|local/bin)/hyprpm, plugin, allow


#####################
### LOOK AND FEEL ###
#####################

# Refer to https://wiki.hypr.land/Configuring/Variables/

# https://wiki.hypr.land/Configuring/Variables/#general
general {
    gaps_in = 5
    gaps_out = 7

    border_size = 0

    # https://wiki.hypr.land/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(666666ee) rgba(f4f1d6ee) 45deg
    col.inactive_border = rgba(000000ee)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    #resize_on_border = false
    allow_tearing = true

    layout = dwindle
}

decoration {
    rounding = 4
    rounding_power = 2

    dim_special = 0.0 # 0.0 remove o cinza. O padrão costuma ser 0.2 ou 0.5

    # Change transparency of focused and unfocused windows
    active_opacity = 0.95
    inactive_opacity = 0.95
    
    dim_inactive = true
    dim_modal = true
    dim_strength = 0.3 
    dim_around = 0.4
    dim_special = 0.5
    
    fullscreen_opacity = 0.95

    shadow {
        enabled = false
        #range = 4
        #render_power = 3
        #color = rgba(1a1a1aee)
    }

    blur {
        enabled = true
        size = 8
        passes = 1
	xray = false
	noise = 0.10
        contrast = 0.8916
	brightness = 0.8172
	new_optimizations = true
        ignore_opacity = true
        vibrancy = 0.1696
	popups = false
	vibrancy_darkness = 0
    }
}

# https://wiki.hypr.land/Configuring/Variables/#animations
animations {
    enabled = yes, please :

    # Default curves, see https://wiki.hypr.land/Configuring/Animations/#curves
    #        NAME,           X0,   Y0,   X1,   Y1
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1

    # Default animations, see https://wiki.hypr.land/Configuring/Animations/
    #           NAME,          ONOFF, SPEED, CURVE,        [STYLE]
    animation = global,        1,     10,    default
    animation = border,        1,     5.39,  easeOutQuint
    animation = windows,       1,     4.79,  easeOutQuint
    animation = windowsIn,     1,     4.1,   easeOutQuint, popin 87%
    animation = windowsOut,    1,     1.49,  linear,       popin 87%
    animation = fadeIn,        1,     1.73,  almostLinear
    animation = fadeOut,       1,     1.46,  almostLinear
    animation = fade,          1,     3.03,  quick
    animation = layers,        1,     3.81,  easeOutQuint
    animation = layersIn,      1,     4,     easeOutQuint, fade
    animation = layersOut,     1,     1.5,   linear,       fade
    animation = fadeLayersIn,  1,     1.79,  almostLinear
    animation = fadeLayersOut, 1,     1.39,  almostLinear
    animation = workspaces,    1,     1.94,  almostLinear, fade
    animation = workspacesIn,  1,     1.21,  almostLinear, fade
    animation = workspacesOut, 1,     1.94,  almostLinear, fade
    animation = zoomFactor,    1,     7,     quick
}

# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrule = bordersize 0, floating:0, onworkspace:w[tv1]
# windowrule = rounding 0, floating:0, onworkspace:w[tv1]
# windowrule = bordersize 0, floating:0, onworkspace:f[1]
# windowrule = rounding 0, floating:0, onworkspace:f[1]

# See https://wiki.hypr.land/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# See https://wiki.hypr.land/Configuring/Master-Layout/ for more
master {
    new_status = master
}

# https://wiki.hypr.land/Configuring/Variables/#misc
misc {
    force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
}


#############
### INPUT ###
#############

# https://wiki.hypr.land/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant = intl
    kb_model =
    kb_options =
    kb_rules =

    # 1:1 Raw Input (Perfeito para CS2 e precisão)
    accel_profile = flat
    force_no_accel = true
    sensitivity = 0.0 

    # 1 = Foco muda ao passar o mouse (Mais produtivo)
    # 0 = Foco muda ao clicar (Estilo Windows)
    follow_mouse = 1
}


# See https://wiki.hypr.land/Configuring/Gestures
gesture = 3, horizontal, workspace

# Example per-device config
# See https://wiki.hypr.land/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}


###################
### KEYBINDINGS ###
###################

# See https://wiki.hypr.land/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

# Example binds, see https://wiki.hypr.land/Configuring/Binds/ for more
bind = $mainMod, RETURN, exec, $terminal
bind = $mainMod, SPACE, exec, pkill wofi || wofi --show drun
bind = $mainMod, Q, killactive,
bind = $mainMod, M, exit,
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, F, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle

# Super + F = Fullscreen Real (Modo 0) - Games/YouTube
bind = $mainMod, F11, fullscreen, 0
# Super + M = Modo Foco "Maximized" (Modo 1) - Mantém Waybar e Gaps
bind = $mainMod, F10, fullscreen, 1

# --- Navegação de Janelas (Alt+Tab style) ---
# cyclenext: Alterna para a próxima janela
# bringactivetotop: Traz a janela para frente visualmente
bind = $mainMod, Tab, cyclenext,
bind = $mainMod, Tab, bringactivetotop,

# --- spotify ---

# Lógica: pgrep checa se 'spotify' está rodando.
# && (E): Se estiver rodando -> executa o toggle do workspace.
# || (OU): Se NÃO estiver rodando -> executa o comando 'spotify'.
bind = $mainMod, XF86AudioMute, exec, pgrep -x spotify && hyprctl dispatch togglespecialworkspace music || spotify

# Atalho para abrir a galeria de wallpapers
bind = $mainMod SHIFT, W, exec, waypaper

# --- waybar --
bind = $mainMod, B, exec, pkill -SIGUSR1 -f "config_DP3.jsonc"
bind = $mainMod ALT, B, exec, pkill -SIGUSR1 waybar
bind = $mainMod CTRL, B, exec, ~/.config/hypr/scripts/restart_waybar.sh

# --- Quick Notes (Sublime Text) ---
bind = $mainMod, N, exec, subl

# --- Clipboard Binds ---

# 1. Super + V: Abre o histórico. Ao selecionar, copia para o transferências e fecha.
bind = $mainMod, V, exec, cliphist list | wofi --dmenu --prompt "Copiar..." --height

# 3. (Opcional) Limpar TUDO (Cuidado!)
bind = $mainMod ALT, V, exec, cliphist wipe

# --- Screenshot & OCR ---

# --- Screenshot & OCR ---

# --- Screenshot (Satty Version) ---

# 1. Super + Shift + S: Tela Cheia (DP-3) -> Copia Original -> Abre Satty
bind = $mainMod SHIFT, S, exec, bash -c 'grim -o DP-3 /tmp/satty_temp.png && wl-copy < /tmp/satty_temp.png && notify-send -i /tmp/satty_temp.png "Screenshot" "Copy fullscreen" && satty --filename /tmp/satty_temp.png'

# 2. Super + S: Região -> Copia Original -> Abre Satty
bind = $mainMod, S, exec, bash -c 'grim -g "$(slurp)" /tmp/satty_temp.png && wl-copy < /tmp/satty_temp.png && notify-send -i /tmp/satty_temp.png "Screenshot" "Copy region" && satty --filename /tmp/satty_temp.png'

# 3. Super + Alt + S: Região -> Apenas Clipboard (Sem editor) - Mantém igual
bind = $mainMod ALT, S, exec, bash -c 'grim -g "$(slurp -d)" /tmp/satty_temp.png && wl-copy < /tmp/satty_temp.png && notify-send -i /tmp/satty_temp.png "Screenshot" "Copy reagion"'

# 4. Super + T: OCR (Mantém igual, pois não gera imagem para ver, gera texto)
bind = $mainMod, T, exec, bash -c 'grim -g "$(slurp)" - | tesseract - - -l por+eng | wl-copy && notify-send "Text Capture" "Copy text"'

# --- ---

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# "Smart Gaps" modernos
# Quando houver apenas 1 janela no workspace: Gaps = 0, Bordas = 0
#workspace = w[t1], gapsout:0, gapsin:0
#windowrulev2 = bordersize 0, floating:0, onworkspace:w[t1]
#windowrulev2 = rounding 0, floating:0, onworkspace:w[t1]

# Ignore maximize requests from apps. You'll probably like this.
#windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
#windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# --- waybar ---

# Habilita o blur especificamente no namespace do waybar
#layerrule = blur, waybar

# (Opcional) Ignora pixels totalmente transparentes para economizar GPU
#layerrule = ignorezero, waybar

# --- wlogout ---

# Regras para o wlogout (Camada de Saída)
#layerrule = blur, logout_dialog
#layerrule = ignorezero, logout_dialog
#layerrule = ignorealpha 0.1, logout_dialog

# Animação de entrada (Fade)
#layerrule = animation fade, logout_dialog

# --- Regras do Spotify ---

# Definição da Classe (Regex para garantir compatibilidade)
$spotify_class = class:^(spotify)$

# 1. Comportamento: Nasce escondido no workspace 'music'
windowrulev2 = workspace special:music, $spotify_class
windowrulev2 = workspace special:music, title:^(Spotify.*)$

# 2. Geometria: Flutuante, Centralizado e Tamanho Personalizado
windowrulev2 = float, $spotify_class
windowrulev2 = center, $spotify_class

# 3. Tamanho: Largura Altura (Em pixels).
# Para seu monitor 1440p, 1200x800 deve ficar excelente. Ajuste conforme gosto.
windowrulev2 = size 1650 950, $spotify_class

# 4. (Opcional - Estética) Adiciona um leve "dim" (escurecimento) 
# no resto da tela para focar na nota
windowrulev2 = dimaround, class:^(spotify)$
windowrulev2 = opacity 0.90 0.90, class:^(spotify)$

# --- Regras do Waypaper ---

# Regra de janela para o Waypaper
windowrulev2 = float, class:^(waypaper)$
windowrulev2 = center, class:^(waypaper)$
windowrulev2 = size 900 600, class:^(waypaper)$

# --- Steam Window Rules ---

# 1. A Janela Principal ("Steam"):
# - Vai para o workspace especial chamado 'steam' silenciosamente (sem te puxar pra lá no boot)
# - Forçamos ela a ser TILE dentro desse workspace (ou float se preferir centralizado)
windowrulev2 = workspace steam, class:^(steam)$, title:^(Steam)$
windowrulev2 = float, class:^(steam)$, title:^(Steam)$
windowrulev2 = size 1700 1000, class:^(steam)$, title:^(Steam)$
windowrulev2 = center, class:^(steam)$, title:^(Steam)$

# 2. Popups e Menus (Continuam flutuando)
# A regra de regex para ignorar menus vazios continua valendo
windowrulev2 = float, class:^(steam)$
windowrulev2 = center, class:^(steam)$, title:^(^.+$)$

# 3. Tamanho dos Popups
windowrulev2 = size 600 400, class:^(steam)$, title:^(Sign in to Steam)$

# 4. Tamanho dos Popups
windowrulev2 = size 1000 600, class:^(steam)$, title:^(^.+$)$

# 5. Otimização visual para Dropdowns
windowrulev2 = noborder, class:^(steam)$, title:^$
windowrulev2 = noshadow, class:^(steam)$, title:^$

# --- Notes - Sublime ---

# 1. Força o modo flutuante
windowrulev2 = float, class:^(sublime_text)$

# 2. Define um tamanho padrão agradável (Largura x Altura)
windowrulev2 = size 1200 800, class:^(sublime_text)$

# 3. Centraliza na tela
windowrulev2 = center, class:^(sublime_text)$

# 4. (Opcional - Estética) Adiciona um leve "dim" (escurecimento) 
# no resto da tela para focar na nota
windowrulev2 = dimaround, class:^(sublime_text)$

# --- Wofi ---

# Animação para o Wofi (Slide vindo de cima ou Fade suave)
#layerrule = blur, wofi
#layerrule = ignorezero, wofi

# --- Vivaldi Geral ---
# Define a base para todas as janelas do Vivaldi (0.90)
windowrulev2 = opacity 0.90 0.90, class:^(vivaldi-stable)$
windowrulev2 = opacity 0.80 0.80, class:^(vivaldi-stable)$, title:^(Start Page - Vivaldi)$

# Save a File

windowrulev2 = float, title:^(All Files)$
windowrulev2 = size 900 600, title:^(All Files)$
windowrulev2 = center, title:^(All Files)$

# YouTube Override (A Solução) 
# A flag 'opaque' força a janela a ser sólida, ignorando as regras de opacidade acima.
# Aplicamos tanto para o título normal quanto para fullscreen para garantir.

# 1. Tira o Blur (Economia de performance e visual)
windowrulev2 = noblur, class:^(vivaldi-stable)$, title:.*(YouTube).*

# 2. Força Opacidade Total (A "Bala de Prata")
windowrulev2 = opaque, class:^(vivaldi-stable)$, title:.*(YouTube).*

# 3. Bloqueia proteção de tela
windowrulev2 = idleinhibit fullscreen, class:^(vivaldi-stable)$

# coolors
windowrulev2 = noblur, class:^*(vivaldi-stable)$, title:.*(Coolors).*
windowrulev2 = opaque, class:^*(vivaldi-stable)$, title:.*(Coolors).*

# Reddit
windowrulev2 = opacity 0.95 override 0.90 override, class:^(vivaldi-stable)$, title:.*(Reddit).*

# --- Volume Control ---

# 1. Força o modo flutuante
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$

# 2. Define um tamanho padrão agradável (Largura x Altura)
windowrulev2 = size 1200 800, class:^(org.pulseaudio.pavucontrol)$

# 3. Centraliza na tela
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$

# 4. (Opcional - Estética) Adiciona um leve "dim" (escurecimento) 
# no resto da tela para focar na nota
windowrulev2 = dimaround, class:^(org.pulseaudio.pavucontrol)$

# --- Godot Engine Rules ---

# 1. Editor Principal: Tiling (Ocupa a tela, padrão)
# (Geralmente não precisa de regra, o Hyprland já faz tiling por padrão)

# 2. Janela de Execução do Jogo (Debug): Float e Centralizada
# Quando você dá "Play", quer que o jogo flutue sobre o editor, não que divida a tela.
windowrulev2 = float, class:^(Godot)$, title:^(?!Godot).*$
windowrulev2 = center, class:^(Godot)$, title:^(?!Godot).*$

# 3. Corrigir Popups e Menus internos que o Godot desenha como janelas
windowrulev2 = float, class:^(Godot)$, title:^(Open.*)$
windowrulev2 = float, class:^(Godot)$, title:^(Select.*)$
windowrulev2 = float, class:^(Godot)$, title:^(Create.*)$
windowrulev2 = float, class:^(Godot)$, title:^(Editor Settings)$
windowrulev2 = float, class:^(Godot)$, title:^(Project Settings)$

# Tamanho mínimo para não abrir janelinhas minusculas
windowrulev2 = minsize 500 400, class:^(Godot)$, title:^(Project Settings)$

# --- thunar ---

# Rename Window
windowrulev2 = float, class:^(thunar)$, title:^(Rename.*)$
windowrulev2 = size 400 50, class:^(thunar)$, title:^(Rename.*)$
#windowrulev2 = opacity 0.80, class:^(thunar)$, title:^(Rename.*)$

# File Operation
windowrulev2 = float, class:^(thunar)$, title:^(File Operation Progress)$

# --- VSCode ---
# 0.90 (Ativo) e 0.90 (Inativo) - Ajuste o valor conforme seu gosto
# class:^(Code)$ pega a versão oficial. Se usar VSCodium, seria ^(VSCodium)$
windowrulev2 = opacity 0.90 0.85, class:^(code)$

# --- qBittorrent ---

# 1. Opacidade Global (Aplica a tudo do qBit)
windowrulev2 = opacity 0.90 0.85, class:^(org.qbittorrent.qBittorrent)$

# 2. Janela de REMOVER (Pop-up)
# Correção: Adicionado \ antes dos parênteses para escapar a regex.
# Adicionei 'center' para o popup não abrir num canto aleatório.
windowrulev2 = float, class:^(org.qbittorrent.qBittorrent)$, title:^(Remove torrent\(s\))$
windowrulev2 = size 450 150, class:^(org.qbittorrent.qBittorrent)$, title:^(Remove torrent\(s\))$
windowrulev2 = center, class:^(org.qbittorrent.qBittorrent)$, title:^(Remove torrent\(s\))$

# 3. Janela PRINCIPAL
# A regex antiga estava muito ampla. Aqui forçamos a pegar apenas janelas que
# COMEÇAM (^) com "qBittorrent", ignorando o resto.
windowrulev2 = float, class:^(org.qbittorrent.qBittorrent)$, title:^(qBittorrent).*$
windowrulev2 = size 1600 800, class:^(org.qbittorrent.qBittorrent)$, title:^(qBittorrent).*$

# --- imv ---
windowrulev2 = opaque, class:^(imv)$
windowrulev2 = float, class:^(imv)$
windowrulev2 = size 1800 900, class:^(imv)$

# --- dunst ---

#layerrule = blur, notifications
#layerrule = ignorezero, notifications
#layerrule = ignorealpha 0, notifications

# Animação suave de entrada (Slide vindo da direita)
#layerrule = animation slide right, notifications

# --- Satty ---

windowrulev2 = float, class:^(com.gabm.satty)$
windowrulev2 = center, class:^(com.gabm.satty)$
windowrulev2 = size 80% 80%, class:^(com.gabm.satty)$
windowrulev2 = opaque, class:^(com.gabm.satty)$

# --- MPV ---

windowrulev2 = float, class:^(mpv)$
windowrulev2 = opaque, class:^(mpv)$
windowrulev2 = size 75% 75%, class:^(mpv)$


# --- Outras Configs ---

xwayland {
  force_zero_scaling = true
}

general {
    allow_tearing = true
}

###########################
###       GAMING        ###
###########################

cursor {
    no_hardware_cursors = true
}

render {
    direct_scanout = true
}

misc {
    vrr = 2 # Força o monitor a sincronizar os Hz com o FPS do jogo
}
# --- all steam game opaque ---

windowrulev2 = opaque, class:^(steam_app_.*)$
windowrulev2 = noblur, class:^(steam_app_.*)$

# --- GameScope ---

windowrulev2 = fullscreen, class:^(gamescope)$
windowrulev2 = monitor 0, class:^(gamescope)$
windowrulev2 = workspace 1, class:^(gamescope)$
windowrulev2 = immediate, class:^(gamescope)$
windowrulev2 = opaque, class:^(gamescope)$

#windowrulev2 = fullscreenstate 3,  class:^(gamescope)$
#windowrulev2 = noinitialfocus, class:^(gamescope)$

# --- Anti-Idle Rules ---
# Impede que a tela desligue ou o PC durma enquanto Dota ou Gamescope estiverem focados
windowrulev2 = idleinhibit focus, class:^(gamescope)$
windowrulev2 = idleinhibit always, class:^(gamescope)$

# --- CS2  ---

# Permite tearing (desativa VSync forçado do compositor) para o CS2
windowrulev2 = immediate, class:^(cs2)$
windowrulev2 = idleinhibit always, class:^(cs2)$
windowrulev2 = opaque, class:^(cs2)$

# 1. Garante que o Gamescope não roube o foco de volta
windowrulev2 = noinitialfocus, class:^(steam)$, title:^(.*Overlay.*)$

# 2. Força janelas de "popup" da Steam a roubarem o foco
# Isso cobre Market, Chat, Perfil, etc.
windowrulev2 = float, class:^(steam)$, title:^(.*Market.*)$
windowrulev2 = float, class:^(steam)$, title:^(.*Browser.*)$
windowrulev2 = float, class:^(steam)$, title:^(.*Chat.*)$

# A REGRA DE OURO:
# Se o foco estiver teimoso, isso força o Hyprland a passar o input para a janela flutuante
# assim que o mouse passar por cima dela (se você usa 'follow_mouse = 1')

# -- Dota 2 --
# Regra de Tearing para o Dota 2
windowrulev2 = immediate, class:^(dota2)$
windowrulev2 = opaque, class:^(dota2)$
windowrulev2 = idleinhibit always, class:^(dota2)$
#windowrulev2 = immediate 0, class:^(dota2)$


# -- RV --

#windowrulev2 = monitor DP-3, title:^(Ride)$

# --- Project Zomboid ---

windowrulev2 = immediate, class:^(Project Zomboid)$
windowrulev2 = opaque, class:^(Project Zomboid)$
